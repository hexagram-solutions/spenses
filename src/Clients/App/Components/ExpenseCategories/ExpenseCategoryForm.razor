@using Spenses.Shared.Models.ExpenseCategories
@using Spenses.Shared.Validators.ExpenseCategories

<Validate ValidationProperties="@(ValidationProperties.Set.FluentValidator<ExpenseCategoryPropertiesValidator>())"
          OnTransformModel="OnTransformModel"/>

<MudTextField @bind-Value="Properties.Name"
              Label="Name"
              HelperText="The name of this expense category"
              Placeholder="Groceries"
              Required/>

<MudTextField @bind-Value="Properties.Description"
              Label="Description"
              HelperText="An optional description for this expense category."
              Placeholder="Stuff to eat!" />

@code
{
    [Parameter, EditorRequired] public ExpenseCategoryProperties Properties { get; set; } = null!;

    private static object OnTransformModel(object model)
    {
        if (model is ExpenseCategory category)
        {
            return new ExpenseCategoryProperties
            {
                Name = category.Name,
                Description = category.Description
            };
        }

        return model;
    }
}

@page "/homes/{homeId:guid}/settings"
@using Spenses.App.Components.Homes
@using Spenses.App.Components.Members
@using Spenses.App.Components.ExpenseCategories
@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<PageTitle>Settings: @(HomesState.Value.CurrentHome?.Name ?? "Loading...")</PageTitle>

<MudText Typo="Typo.h4"
         GutterBottom>
    Settings: @(HomesState.Value.CurrentHome?.Name ?? "Loading...")
</MudText>

<MudGrid>
    <MudItem md="6"
             sm="12">
        <MudPaper Class="pa-4">
            <EditForm Model="Home"
                      OnSubmit="Save">
                <LoadingOverlay Visible="HomesState.Value.HomeRequesting || HomesState.Value.HomeUpdating"/>
                <HomeForm Home="Home"/>
                <MudButton ButtonType="ButtonType.Submit"
                           Color="Color.Primary"
                           Variant="Variant.Filled">
                    Save
                </MudButton>
            </EditForm>
        </MudPaper>
    </MudItem>
    <MudItem md="6"
             sm="12"
             Style="pa-4">
        <MudText Typo="Typo.h5"
                 GutterBottom>
            Expense categories
        </MudText>
        <ExpenseCategoriesTable HomeId="HomeId"/>
    </MudItem>
    <MudItem xs="12"
             Style="pa-4">
        <MembersPanel />
    </MudItem>
</MudGrid>

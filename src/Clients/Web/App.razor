@using Spenses.Client.Web.Layouts
@using Spenses.Client.Web.Components.Authentication
<CascadingAuthenticationState>
  <Blazorise.ThemeProvider Theme="@_theme">
    <Router AppAssembly="@typeof(App).Assembly">
      <Found Context="routeData">
        <AuthorizeRouteView RouteData="@routeData" DefaultLayout="typeof(MainLayout)">
          <NotAuthorized>
            @if (context.User.Identity?.IsAuthenticated != true)
            {
              <LoginRedirect/>
            }
            else
            {
              <p role="alert">You are not authorized to access this resource.</p>
            }
          </NotAuthorized>
        </AuthorizeRouteView>
      </Found>
      <NotFound>
        <PageTitle>Not found</PageTitle>
        <LayoutView Layout="@typeof(MainLayout)">
          <p role="alert">Sorry, there's nothing at this address.</p>
        </LayoutView>
      </NotFound>
    </Router>
    <MessageProvider/>
    <PageProgressProvider/>
  </Blazorise.ThemeProvider>
</CascadingAuthenticationState>

<ModalProvider/>

@code {

  private readonly Theme _theme = new()
  {
    BarOptions = new ThemeBarOptions
    {
      HorizontalHeight = "72px"
    },
    ColorOptions = new ThemeColorOptions
    {
      Primary = "#0288D1",
      Secondary = "#A65529",
      Success = "#23C02E",
      Info = "#9BD8FE",
      Warning = "#F8B86C",
      Danger = "#F95741",
      Light = "#F0F0F0",
      Dark = "#535353"
    },
    BackgroundOptions = new ThemeBackgroundOptions
    {
      Primary = "#0288D1",
      Secondary = "#A65529",
      Success = "#23C02E",
      Info = "#9BD8FE",
      Warning = "#F8B86C",
      Danger = "#F95741",
      Light = "#F0F0F0",
      Dark = "#535353"
    },
    InputOptions = new ThemeInputOptions
    {
      CheckColor = "#0288D1"
    }
  };

}

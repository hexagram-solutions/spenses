@using Blazorise.Snackbar
@using Spenses.Client.Web.Store.Shared
@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<SnackbarStack @ref="SnackbarStack" Location="SnackbarStackLocation.BottomEnd" />

@code {
    SnackbarStack SnackbarStack { get; set; } = new();

    protected override void OnInitialized()
    {
        base.OnInitialized();

        SubscribeToAction<ApplicationErrorAction>(async action =>
        {
            await SnackbarStack.PushAsync(action.Error.Details, action.Error.Title, SnackbarColor.Danger,
                options => options.Multiline = true);
        });
    }

}

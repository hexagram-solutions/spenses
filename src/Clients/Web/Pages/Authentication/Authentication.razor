@page "/authentication/{action}"
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using Spenses.Shared.Common
@using Hexagrams.Extensions.Configuration

@inject NavigationManager Navigation
@inject IConfiguration Configuration

@attribute [AllowAnonymous]

<RemoteAuthenticatorView Action="@Action">
  <LogOut>
    @{
      var authority = Configuration.Require(ConfigConstants.SpensesOpenIdAuthority);
      var clientId = Configuration.Require(ConfigConstants.SpensesOpenIdClientId);

      Navigation.NavigateTo($"{authority}/v2/logout?client_id={clientId}");
    }
  </LogOut>
</RemoteAuthenticatorView>

@code{

  [Parameter]
  public string Action { get; set; } = null!;

}
